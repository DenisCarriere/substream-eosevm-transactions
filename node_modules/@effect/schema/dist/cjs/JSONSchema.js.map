{"version":3,"file":"JSONSchema.js","names":["Option","_interopRequireWildcard","require","Predicate","ReadonlyArray","ReadonlyRecord","AST","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","make","schema","goRoot","ast","exports","anyJsonSchema","$id","unknownJsonSchema","objectJsonSchema","emptyJsonSchema","$schema","$defs","jsonSchema","goWithIdentifier","out","isEmptyRecord","identifier","getIdentifierAnnotation","match","onNone","goWithMetaData","onSome","id","$ref","DEFINITION_PREFIX","getMetaData","annotated","getSomes","description","getDescriptionAnnotation","title","getTitleAnnotation","examples","getExamplesAnnotation","getDefaultAnnotation","go","hook","getJSONSchemaAnnotation","isSome","_tag","from","value","Error","literal","const","isString","isNumber","isBoolean","type","elements","map","rest","output","len","length","minItems","filter","element","isOptional","items","head","additionalItems","maxItems","propertySignatures","indexSignatures","additionalProperties","undefined","patternProperties","is","parameter","getTemplateLiteralRegex","source","pattern","format","ps","required","properties","name","push","String","enums","anyOf","types","keys","enum","$comment","oneOf","regex","orElse","f","isNone","to"],"sources":["../../src/JSONSchema.ts"],"sourcesContent":[null],"mappings":";;;;;;AAIA,IAAAA,MAAA,gBAAAC,uBAAA,eAAAC,OAAA;AACA,IAAAC,SAAA,gBAAAF,uBAAA,eAAAC,OAAA;AACA,IAAAE,aAAA,gBAAAH,uBAAA,eAAAC,OAAA;AACA,IAAAG,cAAA,gBAAAJ,uBAAA,eAAAC,OAAA;AACA,IAAAI,GAAA,gBAAAL,uBAAA,eAAAC,OAAA;AAA+B,SAAAK,yBAAAC,CAAA;EAAA,yBAAAC,OAAA;EAAA,IAAAC,CAAA,OAAAD,OAAA;IAAAE,CAAA,OAAAF,OAAA;EAAA,QAAAF,wBAAA,YAAAA,CAAAC,CAAA;IAAA,OAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA;EAAA,GAAAF,CAAA;AAAA;AAAA,SAAAP,wBAAAO,CAAA,EAAAE,CAAA;EAAA,KAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA;EAAA,aAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA;IAAAK,OAAA,EAAAL;EAAA;EAAA,IAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA;EAAA,IAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA;EAAA,IAAAQ,CAAA;MAAAC,SAAA;IAAA;IAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA;EAAA,SAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,IAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAjB,CAAA,EAAAc,CAAA;IAAA,IAAAI,CAAA,GAAAR,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA;IAAAI,CAAA,KAAAA,CAAA,CAAAX,GAAA,IAAAW,CAAA,CAAAC,GAAA,IAAAR,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAI,CAAA,IAAAV,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA;EAAA;EAAA,OAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAgB,GAAA,CAAAnB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAAA;AAR/B;;;;AA6MA;;;;AAIO,MAAMY,IAAI,GAAaC,MAA8B,IAAsBC,MAAM,CAACD,MAAM,CAACE,GAAG,CAAC;AAAAC,OAAA,CAAAJ,IAAA,GAAAA,IAAA;AAEpG,MAAMK,aAAa,GAAgB;EAAEC,GAAG,EAAE;AAAc,CAAE;AAE1D,MAAMC,iBAAiB,GAAgB;EAAED,GAAG,EAAE;AAAkB,CAAE;AAElE,MAAME,gBAAgB,GAAgB;EACpC,KAAK,EAAE,iBAAiB;EACxB,OAAO,EAAE,CACP;IAAE,MAAM,EAAE;EAAQ,CAAE,EACpB;IAAE,MAAM,EAAE;EAAO,CAAE;CAEtB;AAED,MAAMC,eAAe,GAAgB;EACnC,KAAK,EAAE,aAAa;EACpB,OAAO,EAAE,CACP;IAAE,MAAM,EAAE;EAAQ,CAAE,EACpB;IAAE,MAAM,EAAE;EAAO,CAAE;CAEtB;AAED,MAAMC,OAAO,GAAG,yCAAyC;AAEzD;AACO,MAAMR,MAAM,GAAIC,GAAY,IAAqB;EACtD,MAAMQ,KAAK,GAAG,EAAE;EAChB,MAAMC,UAAU,GAAGC,gBAAgB,CAACV,GAAG,EAAEQ,KAAK,CAAC;EAC/C,MAAMG,GAAG,GAAoB;IAC3BJ,OAAO;IACP,GAAGE;GACJ;EACD,IAAI,CAACnC,cAAc,CAACsC,aAAa,CAACJ,KAAK,CAAC,EAAE;IACxCG,GAAG,CAACH,KAAK,GAAGA,KAAK;EACnB;EACA,OAAOG,GAAG;AACZ,CAAC;AAAAV,OAAA,CAAAF,MAAA,GAAAA,MAAA;AAED,MAAMW,gBAAgB,GAAGA,CAACV,GAAY,EAAEQ,KAAkC,KAAiB;EACzF,MAAMK,UAAU,GAAGtC,GAAG,CAACuC,uBAAuB,CAACd,GAAG,CAAC;EACnD,OAAO/B,MAAM,CAAC8C,KAAK,CAACF,UAAU,EAAE;IAC9BG,MAAM,EAAEA,CAAA,KAAMC,cAAc,CAACjB,GAAG,EAAEQ,KAAK,CAAC;IACxCU,MAAM,EAAGC,EAAE,IAAI;MACb,MAAMR,GAAG,GAAG;QAAES,IAAI,EAAE,GAAGC,iBAAiB,GAAGF,EAAE;MAAE,CAAE;MACjD,IAAI,CAAC7C,cAAc,CAACS,GAAG,CAACyB,KAAK,EAAEW,EAAE,CAAC,EAAE;QAClCX,KAAK,CAACW,EAAE,CAAC,GAAGR,GAAG;QACfH,KAAK,CAACW,EAAE,CAAC,GAAGF,cAAc,CAACjB,GAAG,EAAEQ,KAAK,CAAC;MACxC;MACA,OAAOG,GAAG;IACZ;GACD,CAAC;AACJ,CAAC;AAED,MAAMW,WAAW,GAAIC,SAAwB,IAC3CjD,cAAc,CAACkD,QAAQ,CAAC;EACtBC,WAAW,EAAElD,GAAG,CAACmD,wBAAwB,CAACH,SAAS,CAAC;EACpDI,KAAK,EAAEpD,GAAG,CAACqD,kBAAkB,CAACL,SAAS,CAAC;EACxCM,QAAQ,EAAEtD,GAAG,CAACuD,qBAAqB,CAACP,SAAS,CAAC;EAC9CzC,OAAO,EAAEP,GAAG,CAACwD,oBAAoB,CAACR,SAAS;CAC5C,CAAC;AAEJ,MAAMN,cAAc,GAAGA,CAACjB,GAAY,EAAEQ,KAAkC,KAAiB;EACvF,OAAO;IACL,GAAGwB,EAAE,CAAChC,GAAG,EAAEQ,KAAK,CAAC;IACjB,GAAGc,WAAW,CAACtB,GAAG;GACnB;AACH,CAAC;AAED;AACO,MAAMqB,iBAAiB,GAAApB,OAAA,CAAAoB,iBAAA,GAAG,UAAU;AAE3C,MAAMW,EAAE,GAAGA,CAAChC,GAAY,EAAEQ,KAAkC,KAAiB;EAC3E,MAAMyB,IAAI,GAAG1D,GAAG,CAAC2D,uBAAuB,CAAClC,GAAG,CAAC;EAC7C,IAAI/B,MAAM,CAACkE,MAAM,CAACF,IAAI,CAAC,EAAE;IACvB,QAAQjC,GAAG,CAACoC,IAAI;MACd,KAAK,YAAY;QACf,OAAO;UAAE,GAAG1B,gBAAgB,CAACV,GAAG,CAACqC,IAAI,EAAE7B,KAAK,CAAC;UAAE,GAAGyB,IAAI,CAACK;QAAK,CAAE;IAClE;IACA,OAAOL,IAAI,CAACK,KAAY;EAC1B;EACA,QAAQtC,GAAG,CAACoC,IAAI;IACd,KAAK,aAAa;MAAE;QAClB,MAAM,IAAIG,KAAK,CAAC,+EAA+E,CAAC;MAClG;IACA,KAAK,SAAS;MAAE;QACd,MAAMC,OAAO,GAAGxC,GAAG,CAACwC,OAAO;QAC3B,IAAIA,OAAO,KAAK,IAAI,EAAE;UACpB,OAAO;YAAEC,KAAK,EAAE;UAAI,CAAE;QACxB,CAAC,MAAM,IAAIrE,SAAS,CAACsE,QAAQ,CAACF,OAAO,CAAC,EAAE;UACtC,OAAO;YAAEC,KAAK,EAAED;UAAO,CAAE;QAC3B,CAAC,MAAM,IAAIpE,SAAS,CAACuE,QAAQ,CAACH,OAAO,CAAC,EAAE;UACtC,OAAO;YAAEC,KAAK,EAAED;UAAO,CAAE;QAC3B,CAAC,MAAM,IAAIpE,SAAS,CAACwE,SAAS,CAACJ,OAAO,CAAC,EAAE;UACvC,OAAO;YAAEC,KAAK,EAAED;UAAO,CAAE;QAC3B;QACA,MAAM,IAAID,KAAK,CAAC,kFAAkF,CAAC;MACrG;IACA,KAAK,cAAc;MACjB,MAAM,IAAIA,KAAK,CAAC,iFAAiF,CAAC;IACpG,KAAK,kBAAkB;MACrB,MAAM,IAAIA,KAAK,CAAC,6EAA6E,CAAC;IAChG,KAAK,aAAa;MAChB,MAAM,IAAIA,KAAK,CAAC,wEAAwE,CAAC;IAC3F,KAAK,cAAc;MACjB,MAAM,IAAIA,KAAK,CAAC,yEAAyE,CAAC;IAC5F,KAAK,gBAAgB;MACnB,OAAO;QAAE,GAAGnC;MAAiB,CAAE;IACjC,KAAK,YAAY;MACf,OAAO;QAAE,GAAGF;MAAa,CAAE;IAC7B,KAAK,eAAe;MAClB,OAAO;QAAE,GAAGG;MAAgB,CAAE;IAChC,KAAK,eAAe;MAClB,OAAO;QAAEwC,IAAI,EAAE;MAAQ,CAAE;IAC3B,KAAK,eAAe;MAClB,OAAO;QAAEA,IAAI,EAAE;MAAQ,CAAE;IAC3B,KAAK,gBAAgB;MACnB,OAAO;QAAEA,IAAI,EAAE;MAAS,CAAE;IAC5B,KAAK,eAAe;MAClB,MAAM,IAAIN,KAAK,CAAC,0EAA0E,CAAC;IAC7F,KAAK,eAAe;MAClB,MAAM,IAAIA,KAAK,CAAC,0EAA0E,CAAC;IAC7F,KAAK,OAAO;MAAE;QACZ,MAAMO,QAAQ,GAAG9C,GAAG,CAAC8C,QAAQ,CAACC,GAAG,CAAEtE,CAAC,IAAKiC,gBAAgB,CAACjC,CAAC,CAACoE,IAAI,EAAErC,KAAK,CAAC,CAAC;QACzE,MAAMwC,IAAI,GAAG/E,MAAM,CAAC8E,GAAG,CACrB/C,GAAG,CAACgD,IAAI,EACR3E,aAAa,CAAC0E,GAAG,CAAE/C,GAAG,IAAKU,gBAAgB,CAACV,GAAG,EAAEQ,KAAK,CAAC,CAAC,CACzD;QACD,MAAMyC,MAAM,GAAqB;UAAEJ,IAAI,EAAE;QAAO,CAAE;QAClD;QACA;QACA;QACA,MAAMK,GAAG,GAAGJ,QAAQ,CAACK,MAAM;QAC3B,IAAID,GAAG,GAAG,CAAC,EAAE;UACXD,MAAM,CAACG,QAAQ,GAAGF,GAAG,GAAGlD,GAAG,CAAC8C,QAAQ,CAACO,MAAM,CAAEC,OAAO,IAAKA,OAAO,CAACC,UAAU,CAAC,CAACJ,MAAM;UACnFF,MAAM,CAACO,KAAK,GAAGV,QAAQ;QACzB;QACA;QACA;QACA;QACA,IAAI7E,MAAM,CAACkE,MAAM,CAACa,IAAI,CAAC,EAAE;UACvB,MAAMS,IAAI,GAAGT,IAAI,CAACV,KAAK,CAAC,CAAC,CAAC;UAC1B,IAAIY,GAAG,GAAG,CAAC,EAAE;YACXD,MAAM,CAACS,eAAe,GAAGD,IAAI;UAC/B,CAAC,MAAM;YACLR,MAAM,CAACO,KAAK,GAAGC,IAAI;UACrB;UAEA;UACA;UACA;UACA,IAAIT,IAAI,CAACV,KAAK,CAACa,MAAM,GAAG,CAAC,EAAE;YACzB,MAAM,IAAIZ,KAAK,CACb,wIAAwI,CACzI;UACH;QACF,CAAC,MAAM;UACL,IAAIW,GAAG,GAAG,CAAC,EAAE;YACXD,MAAM,CAACS,eAAe,GAAG,KAAK;UAChC,CAAC,MAAM;YACLT,MAAM,CAACU,QAAQ,GAAG,CAAC;UACrB;QACF;QAEA,OAAOV,MAAM;MACf;IACA,KAAK,aAAa;MAAE;QAClB,IAAIjD,GAAG,CAAC4D,kBAAkB,CAACT,MAAM,KAAK,CAAC,IAAInD,GAAG,CAAC6D,eAAe,CAACV,MAAM,KAAK,CAAC,EAAE;UAC3E,OAAO;YAAE,GAAG7C;UAAe,CAAE;QAC/B;QACA,IAAIwD,oBAAoB,GAA4BC,SAAS;QAC7D,IAAIC,iBAAiB,GAA4CD,SAAS;QAC1E,KAAK,MAAME,EAAE,IAAIjE,GAAG,CAAC6D,eAAe,EAAE;UACpC,MAAMK,SAAS,GAAGD,EAAE,CAACC,SAAS;UAC9B,QAAQA,SAAS,CAAC9B,IAAI;YACpB,KAAK,eAAe;cAAE;gBACpB0B,oBAAoB,GAAGpD,gBAAgB,CAACuD,EAAE,CAACpB,IAAI,EAAErC,KAAK,CAAC;gBACvD;cACF;YACA,KAAK,iBAAiB;cAAE;gBACtBwD,iBAAiB,GAAG;kBAClB,CAACzF,GAAG,CAAC4F,uBAAuB,CAACD,SAAS,CAAC,CAACE,MAAM,GAAG1D,gBAAgB,CAC/DuD,EAAE,CAACpB,IAAI,EACPrC,KAAK;iBAER;gBACD;cACF;YACA,KAAK,YAAY;cAAE;gBACjB,MAAMyB,IAAI,GAAG1D,GAAG,CAAC2D,uBAAuB,CAACgC,SAAS,CAAC;gBACnD,IACEjG,MAAM,CAACkE,MAAM,CAACF,IAAI,CAAC,IAAI,SAAS,IAAIA,IAAI,CAACK,KAAK,IAC9ClE,SAAS,CAACsE,QAAQ,CAACT,IAAI,CAACK,KAAK,CAAC+B,OAAO,CAAC,EACtC;kBACAL,iBAAiB,GAAG;oBAClB,CAAC/B,IAAI,CAACK,KAAK,CAAC+B,OAAO,GAAG3D,gBAAgB,CACpCuD,EAAE,CAACpB,IAAI,EACPrC,KAAK;mBAER;kBACD;gBACF;gBACA,MAAM,IAAI+B,KAAK,CAAC,0CAA0ChE,GAAG,CAAC+F,MAAM,CAACJ,SAAS,CAAC,GAAG,CAAC;cACrF;YACA,KAAK,eAAe;cAClB,MAAM,IAAI3B,KAAK,CAAC,0CAA0ChE,GAAG,CAAC+F,MAAM,CAACJ,SAAS,CAAC,GAAG,CAAC;UACvF;QACF;QACA,MAAMN,kBAAkB,GAAG5D,GAAG,CAAC4D,kBAAkB,CAACb,GAAG,CAAEwB,EAAE,IAAI;UAC3D,OAAO;YAAE,GAAG7D,gBAAgB,CAAC6D,EAAE,CAAC1B,IAAI,EAAErC,KAAK,CAAC;YAAE,GAAGc,WAAW,CAACiD,EAAE;UAAC,CAAE;QACpE,CAAC,CAAC;QACF,MAAMtB,MAAM,GAAsB;UAChCJ,IAAI,EAAE,QAAQ;UACd2B,QAAQ,EAAE,EAAE;UACZC,UAAU,EAAE,EAAE;UACdX,oBAAoB,EAAE;SACvB;QACD;QACA;QACA;QACA,KAAK,IAAInE,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGiE,kBAAkB,CAACT,MAAM,EAAExD,CAAC,EAAE,EAAE;UAClD,MAAM+E,IAAI,GAAG1E,GAAG,CAAC4D,kBAAkB,CAACjE,CAAC,CAAC,CAAC+E,IAAI;UAC3C,IAAI,OAAOA,IAAI,KAAK,QAAQ,EAAE;YAC5BzB,MAAM,CAACwB,UAAU,CAACC,IAAI,CAAC,GAAGd,kBAAkB,CAACjE,CAAC,CAAC;YAC/C;YACA;YACA;YACA,IAAI,CAACK,GAAG,CAAC4D,kBAAkB,CAACjE,CAAC,CAAC,CAAC4D,UAAU,EAAE;cACzCN,MAAM,CAACuB,QAAQ,CAACG,IAAI,CAACD,IAAI,CAAC;YAC5B;UACF,CAAC,MAAM;YACL,MAAM,IAAInC,KAAK,CAAC,iBAAiBqC,MAAM,CAACF,IAAI,CAAC,qBAAqB,CAAC;UACrE;QACF;QACA;QACA;QACA;QACA,IAAIZ,oBAAoB,KAAKC,SAAS,EAAE;UACtCd,MAAM,CAACa,oBAAoB,GAAGA,oBAAoB;QACpD;QACA,IAAIE,iBAAiB,KAAKD,SAAS,EAAE;UACnCd,MAAM,CAACe,iBAAiB,GAAGA,iBAAiB;QAC9C;QAEA,OAAOf,MAAM;MACf;IACA,KAAK,OAAO;MAAE;QACZ,MAAM4B,KAAK,GAA4B,EAAE;QACzC,MAAMC,KAAK,GAAuB,EAAE;QACpC,KAAK,MAAMjC,IAAI,IAAI7C,GAAG,CAAC+E,KAAK,EAAE;UAC5B,MAAMjF,MAAM,GAAGY,gBAAgB,CAACmC,IAAI,EAAErC,KAAK,CAAC;UAC5C,IAAI,OAAO,IAAIV,MAAM,EAAE;YACrB,IAAIV,MAAM,CAAC4F,IAAI,CAAClF,MAAM,CAAC,CAACqD,MAAM,GAAG,CAAC,EAAE;cAClC2B,KAAK,CAACH,IAAI,CAAC7E,MAAM,CAAC;YACpB,CAAC,MAAM;cACL+E,KAAK,CAACF,IAAI,CAAC7E,MAAM,CAAC2C,KAAK,CAAC;YAC1B;UACF,CAAC,MAAM;YACLqC,KAAK,CAACH,IAAI,CAAC7E,MAAM,CAAC;UACpB;QACF;QACA,IAAIgF,KAAK,CAAC3B,MAAM,KAAK,CAAC,EAAE;UACtB,IAAI0B,KAAK,CAAC1B,MAAM,KAAK,CAAC,EAAE;YACtB,OAAO;cAAEV,KAAK,EAAEoC,KAAK,CAAC,CAAC;YAAC,CAAE;UAC5B,CAAC,MAAM;YACL,OAAO;cAAEI,IAAI,EAAEJ;YAAK,CAAE;UACxB;QACF,CAAC,MAAM;UACL,IAAIA,KAAK,CAAC1B,MAAM,KAAK,CAAC,EAAE;YACtB2B,KAAK,CAACH,IAAI,CAAC;cAAElC,KAAK,EAAEoC,KAAK,CAAC,CAAC;YAAC,CAAE,CAAC;UACjC,CAAC,MAAM,IAAIA,KAAK,CAAC1B,MAAM,GAAG,CAAC,EAAE;YAC3B2B,KAAK,CAACH,IAAI,CAAC;cAAEM,IAAI,EAAEJ;YAAK,CAAE,CAAC;UAC7B;UACA,OAAO;YAAEC;UAAK,CAAE;QAClB;MACF;IACA,KAAK,OAAO;MAAE;QACZ,OAAO;UACLI,QAAQ,EAAE,gBAAgB;UAC1BC,KAAK,EAAEnF,GAAG,CAAC6E,KAAK,CAAC9B,GAAG,CAAEtE,CAAC,KAAM;YAAEkD,KAAK,EAAElD,CAAC,CAAC,CAAC,CAAC;YAAEgE,KAAK,EAAEhE,CAAC,CAAC,CAAC;UAAC,CAAE,CAAC;SAC3D;MACH;IACA,KAAK,YAAY;MAAE;QACjB,MAAM,IAAI8D,KAAK,CAAC,8EAA8E,CAAC;MACjG;IACA,KAAK,iBAAiB;MAAE;QACtB,MAAM6C,KAAK,GAAG7G,GAAG,CAAC4F,uBAAuB,CAACnE,GAAG,CAAC;QAC9C,OAAO;UACL6C,IAAI,EAAE,QAAQ;UACdpB,WAAW,EAAE,oBAAoB;UACjC4C,OAAO,EAAEe,KAAK,CAAChB;SAChB;MACH;IACA,KAAK,SAAS;MAAE;QACd,MAAMvD,UAAU,GAAG5C,MAAM,CAACoH,MAAM,CAAC9G,GAAG,CAACuC,uBAAuB,CAACd,GAAG,CAAC,EAAE,MAAMzB,GAAG,CAACuC,uBAAuB,CAACd,GAAG,CAACsF,CAAC,EAAE,CAAC,CAAC;QAC9G,IAAIrH,MAAM,CAACsH,MAAM,CAAC1E,UAAU,CAAC,EAAE;UAC7B,MAAM,IAAI0B,KAAK,CACb,kFAAkF,CACnF;QACH;QACA,OAAO7B,gBAAgB,CAACV,GAAG,CAACsF,CAAC,EAAE,EAAE9E,KAAK,CAAC;MACzC;IACA,KAAK,WAAW;MACd,OAAOE,gBAAgB,CAACV,GAAG,CAACwF,EAAE,EAAEhF,KAAK,CAAC;EAC1C;AACF,CAAC"}