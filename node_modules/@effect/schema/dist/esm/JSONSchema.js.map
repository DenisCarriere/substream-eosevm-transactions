{"version":3,"file":"JSONSchema.js","names":["Option","Predicate","ReadonlyArray","ReadonlyRecord","AST","make","schema","goRoot","ast","anyJsonSchema","$id","unknownJsonSchema","objectJsonSchema","emptyJsonSchema","$schema","$defs","jsonSchema","goWithIdentifier","out","isEmptyRecord","identifier","getIdentifierAnnotation","match","onNone","goWithMetaData","onSome","id","$ref","DEFINITION_PREFIX","has","getMetaData","annotated","getSomes","description","getDescriptionAnnotation","title","getTitleAnnotation","examples","getExamplesAnnotation","default","getDefaultAnnotation","go","hook","getJSONSchemaAnnotation","isSome","_tag","from","value","Error","literal","const","isString","isNumber","isBoolean","type","elements","map","e","rest","output","len","length","minItems","filter","element","isOptional","items","head","additionalItems","maxItems","propertySignatures","indexSignatures","additionalProperties","undefined","patternProperties","is","parameter","getTemplateLiteralRegex","source","pattern","format","ps","required","properties","i","name","push","String","enums","anyOf","types","Object","keys","enum","$comment","oneOf","regex","orElse","f","isNone","to"],"sources":["../../src/JSONSchema.ts"],"sourcesContent":[null],"mappings":"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"}